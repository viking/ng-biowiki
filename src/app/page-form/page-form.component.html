<div class="h-100 p-2 d-flex flex-column" *ngIf="page">
  <h1>Edit {{webName}}.{{pageName}}</h1>

  <form (ngSubmit)="onSubmit()" #pageForm="ngForm" class="grow-vert">
    <div class="form-group">
      <label for="page-title">Title</label>
      <input type="text" class="form-control" id="page-title"
        name="title" [(ngModel)]="page.title" required />
    </div>
    <div class="row grow-horiz">
      <div class="col-6 grow-vert">
        <div class="form-group grow-vert">
          <label for="page-content">Content</label>
          <textarea class="form-control grow" id="page-content"
            name="content" [(ngModel)]="page.content" required>
          </textarea>
        </div>
      </div>
      <div class="col-6 grow-vert">
        <div class="form-group grow-vert">
          <label>Preview</label>
          <div class="grow-vert" [innerHtml]="page.content | markdown"></div>
        </div>
      </div>
    </div>
    <div class="buttons">
      <input class="btn btn-primary" type="submit" value="Save"
        [disabled]="!pageForm.form.valid" />
      <button class="btn btn-secondary" type="button" (click)="goBack()">Cancel</button>
    </div>
  </form>
</div>
